function setFoot(){var t=$(".pagefoot");bds.comm.gj||($(document.body).height()<$(window).height()?(t.css({position:"fixed",bottom:"0"}),t.css($(window).width()<=1100?{"padding-left":"42px"}:{"padding-left":"0"})):t.css({position:"relative","padding-left":"0"}))}function user_c(t){var e="",n="",i="",o=encodeURIComponent(window.document.location.href),s=window["BD_PS_C"+(new Date).getTime()]=new Image;for(v in t){switch(v){case"title":n=encodeURIComponent(t[v].replace(/<[^<>]+>/g,""));break;case"url":n=encodeURIComponent(t[v]);break;default:n=t[v]}e+=v+"="+n+"&"}return i="&mu="+o,s.src=bds&&bds.util&&bds.util.domain&&bds.util.domain.get("http://nsclick.baidu.com")+"/v.gif?pid=201&pj=psuser&"+e+"path="+o+"&t="+(new Date).getTime(),!0}function hide_loginInfo(){bds.comm.username&&$("#head_wr").width()<=1250&$("#user").width()>72&&($("#imsg").hide(),$("#setting").hide())}function form_submit(){var t=$("#joursearch #kw"),e=t.val();return e&&(e=bds.util.limitWd(e),bds.comm.resultSug.setKey(e)),!0}!function(){var t={_token:window.token||"",_ts:parseInt(new Date/1e3,10)};t._sign=md5(t._ts+t._token+"3b6e2e87fcce6eea8337eeac83b478f5"),$.ajaxSetup({data:t||{}})}(),bds.util.dialogTips=function(t,e,n){var i="",o="",s=$(".subsDialog");if(200===t?(i=e||"操作成功",o="c-icon-ok"):(i=e||"操作失败",o="c-icon-fail"),s.length)s.find(".texttip").text(i),s.find(".c-icon").removeClass("c-icon-ok c-icon-fail").addClass(o);else{var r=['<div class="subsDialog">','<i class="c-icon '+o+'"></i>','<span class="texttip">'+i+"</span>","</div>"].join("");$(r).appendTo("body"),s=$(".subsDialog"),s.css({height:"42px",padding:"0 20px",color:"#06c","font-size":"14px","line-height":"42px","text-align":"center",border:"1px solid #ccc","background-color":"#fff",position:"absolute",display:"none","z-index":"1001"}),n&&n.css&&s.css(n.css),s.find(".texttip").css({"padding-left":"6px",_zoom:1}),s.find(".c-icon").css({_display:"none"})}var a=($(window).height()-s.outerHeight())/2,u=($(window).width()-s.outerWidth())/2,c=$(window).scrollTop()+Math.max(a,10);s.css({top:c,left:u}).fadeIn(),n&&n.time?setTimeout(function(){s.fadeOut()},n.time):setTimeout(function(){s.fadeOut()},1e3)},bds.util.showDialog=bds.util.dialogTips,bds.se.dialog=function(){function t(){i.hide(),$(".dialog").hide(),s=!1}function e(t,e){var n=$(window),i=(n.height()-t.outerHeight())/2,o=(n.width()-t.outerWidth())/2,s=n.scrollTop();s+=e?e:Math.max(i,10),$curDialog=t,t.css({top:s,left:o})}function n(t,n){e(t,n);var o=Math.max(document.body.scrollHeight,document.documentElement.clientHeight,document.body.clientHeight);i.height(o),t.show(),i.show(),s=!0}var i=$(".dialog_bg"),o="weiboShareDialog",s=!1;return i.on("click",function(){return"block"!==$("."+o).css("display")&&t(),!1}),$("body").on("click",".dialog_close",function(e){t(),e.preventDefault()}),{showDialog:n,hideDialog:t}}(),jQuery&&jQuery.extend({stringify:function(t){function e(t){return/["\\\x00-\x1f]/.test(t)&&(t=t.replace(/["\\\x00-\x1f]/g,function(t){var e=o[t];return e?e:(e=t.charCodeAt(),"\\u00"+Math.floor(e/16).toString(16)+(e%16).toString(16))})),'"'+t+'"'}function n(t){var e,n,i,o=["["],s=t.length;for(n=0;s>n;n++)switch(i=t[n],typeof i){case"undefined":case"function":case"unknown":break;default:e&&o.push(","),o.push($.stringify(i)),e=1}return o.push("]"),o.join("")}if("JSON"in window)return JSON.stringify(t);var i=typeof t;if("object"!=i||null===t)return"string"==i&&(t='"'+t+'"'),String(t);var o={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};switch(typeof t){case"undefined":return"undefined";case"number":return isFinite(t)?String(t):"null";case"string":return e(t);case"boolean":return String(t);default:if(null===t)return"null";if(t instanceof Array)return n(t);var s,r,a=["{"],u=$.stringify;for(var c in t)if(Object.prototype.hasOwnProperty.call(t,c))switch(r=t[c],typeof r){case"undefined":case"unknown":case"function":break;default:s&&a.push(","),s=1,a.push(u(c)+":"+u(r))}return a.push("}"),a.join("")}},format:function(t,e){t=String(t);var n=Array.prototype.slice.call(arguments,1),i=Object.prototype.toString;return n.length?(n=1==n.length&&null!==e&&/\[object Array\]|\[object Object\]/.test(i.call(e))?e:n,t.replace(/#\{(.+?)\}/g,function(t,e){var o=n[e];return"[object Function]"==i.call(o)&&(o=o(e)),"undefined"==typeof o?"":o})):t},subByte:function(t,e,n){var i=[],o=t.split("");n=n||"…";for(var s=0,r=o.length;r>s;s++)o[s].charCodeAt(0)>255&&i.push("*"),i.push(o[s]);return e&&e>0&&i.length>e?o=i.join("").substring(0,e-1).replace(/\*/g,"")+n:t},getByteLength:function(t){for(var e=[],n=t.split(""),i=0,o=n.length;o>i;i++)n[i].charCodeAt(0)>255&&e.push("*"),e.push(n[i]);return e.length},_isValidKey:function(t){return new RegExp('^[^\\x00-\\x20\\x7f\\(\\)<>@,;:\\\\\\"\\[\\]\\?=\\{\\}\\/\\u0080-\\uffff]+$').test(t)},setCookie:function(t,e,n){if(e=encodeURIComponent(e),jQuery._isValidKey(t)){n=n||{};var i=n.expires;"number"==typeof n.expires&&(i=new Date,i.setTime(i.getTime()+n.expires)),document.cookie=t+"="+e+(n.path?"; path="+n.path:"")+(i?"; expires="+i.toGMTString():"")+(n.domain?"; domain="+n.domain:"")+(n.secure?"; secure":"")}},getCookie:function(t){var e="";if(jQuery._isValidKey(t)){var n=new RegExp("(^| )"+t+"=([^;]*)(;|$)"),i=n.exec(document.cookie);if(i&&(e=i[2]||null,"string"==typeof e))return e=decodeURIComponent(e)}return null},removeCookie:function(t,e){e=e||{},e.expires=new Date(0),jQuery.setCookie(t,"",e)}}),!function(){function t(t,e){$(".menuDropList").hide(),$(".menuarrow").hide();var n=$(window).width()-t.offset().left+window.scrollX,i=parseInt(e.css("left")),o=e.width()+10,s=o+i;if(s>n){var r=i-(s-n);e.css("left",r)}e.show(),e.siblings(".menuarrow").show(),$("#s_mod_msg").hide()}function e(t){t.hide(),t.siblings(".menuarrow").hide()}function n(n,i,o){n.on("mouseover",function(){t(n,i),o&&(clearTimeout(o),o=!1)}).on("mouseout",function(){o&&(clearTimeout(o),o=!1),o=setTimeout(function(){e(i)},200)}),i.on("mouseover",function(){o&&(clearTimeout(o),o=!1)}).on("mouseout",function(){o&&(clearTimeout(o),o=!1),o=setTimeout(function(){e(i)},200)})}var i,o,s,r=$("#bdbri"),a=$("#bdbriList"),u=$("#setting"),c=$("#setMenu"),l=$("#user #userMenu"),d=$("#user");n(r,a,i),n(u,c,o),0!==d.length&&n(d,l,s),$("#lb")&&$("#lb").click(function(){return bds.se.login.open(),!1})}(),function(){(!bds.comm.username||$("#imsg").length||$("#msimsg").length||$("#ucimsg").length)&&$.ajax({url:bds&&bds.util&&bds.util.domain&&bds.util.domain.get("http://s1.bdstatic.com/r/www/cache/mid/static/xueshu_mt/js/message_2.js"),dataType:"script",success:function(){var t=$("#s_mod_msg");bds.se.message&&bds.se.message.init&&bds.se.message.init({container:t,msgbtn:$("#imsg"),ucMsgbtn:$("#ucimsg"),msMsgbtn:$("#msimsg"),hasborder:1,msgGetCb:function(t){t&&t.length&&$(".fixed_menu_containter .message_new_icon").css("display","inline-block")},msgCleanCb:function(){$(".fixed_menu_containter .message_new_icon").hide()}})}})}(),!function(t){function e(){if(bds&&bds.qa&&bds.qa.ShortCut&&bds.qa.ShortCut.initRightBar){var t={product_id:65};bds.qa.ShortCut.initRightBar(t);var e={product_id:"65",username:bds.comm.username,query:""};bds.qa.ShortCut._getProData(e)}}function n(){bds&&bds.qa&&bds.qa.ShortCut&&bds.qa.ShortCut.initRightBar?e():t.ajax({url:bds&&bds.util&&bds.util.domain&&bds.util.domain.get("http://f3.baidu.com/feedback/js/feedback/feedback0.0.2.js"),dataType:"script",success:function(){e()}})}bds.util.feedback=function(){n()},t("body").on("click",".feedback",function(t){bds.util.feedback(),t.preventDefault()})}(jQuery);var bds=window.bds||{};bds.se=bds.se||{},bds.se.handleyear=bds.se.handleyear||{},bds.se.handleyear=function(){function t(t,e){var n=(new Date).getFullYear(),i=0,o=0,s="";return 4===t.length?t:0===t.length||"年"===t?e?"+":"-":(s=1===t.length?"0":"",o=parseInt(t,10),n+="",i=parseInt(n.substr(2,2),10),t=o>i?"19"+s+t:"20"+s+t)}function e(t){var e=(new Date).getFullYear();return 4===t.length?(t=parseInt(t,10),t>e):!1}function n(e,n,i){var o="",s="";return 0!==n.length&&"年"!==n||0!==e.length&&"年"!==e?(e=t(e,!1),n=t(n,!0),"-"!==e&&"+"!==n&&parseInt(e,10)>parseInt(n,10)&&(o=e,e=n,n=o),"sc_time"===i&&("-"!==e&&(e+="0000"),"+"!==n&&(n+="9999")),s=i+"={"+e+","+n+"}"):""}return{parseInput:t,isLarge:e,createFilter:n}},bds=window.bds||{},bds.util=bds.util||{},bds.util.limitWd=function(t){var e=t.split(""),n=e.length,i=0,o=255;if(127>=n)return t;for(var s=0;n>s;s++){if(i+=e[s].charCodeAt(0)>255?2:1,i===o)return e=t.substring(0,s+1);if(i>o)return e=t.substring(0,s)}return t},function(){function t(){var t=$(".sc_adv_input_ylo"),e=$(".sc_adv_input_yhi"),n=$.trim(t.val()),i=$.trim(e.val()),o=/^[0-9]{0,4}$/,s=n.length,r=i.length,a=!0;if("年"===n||o.test(n)&&3!==s&&!bds.se.handleyear.isLarge(n)?"年"===i||o.test(i)&&3!==r||(e.focus(),e.select(),t.addClass("error"),a=!1):(t.focus(),t.select(),t.addClass("error"),a=!1),a){var u=bds.se.handleyear.createFilter(n,i,"sc_year");return u}return!1}function e(){var t=$(".sc_adv_lang_sel a").attr("data-id"),e="";return t&&"0"!==t&&(e="sc_la={"+t+"}"),e}function n(){var n=t(),i=e();if(n===!1)return n;var o="";return(n||i)&&(o='<input type="hidden" name="filter" value="'+n+i+'">'),o}function i(t){return t.split(/,|，/)}function o(t){for(var e=i(t),n="",o=0,s=e.length;s>o;o++)0!==o&&(n+=" "),n+="&quot;"+e[o]+"&quot;";return n}function s(){for(var t,e=c.length,n="",s="",r="",a="",u="",l=$(c[0]).attr("data-name"),d=0;e>d;d++)if(t=$(c[d]),n=$.trim(t.val()),s=t.attr("placeholder"),n&&n!==s)switch(0!==d&&(r+=" "),a=t.attr("data-type")){case"all":r+=n;break;case"precise":r+=o(n);break;case"or":u=i(n),r+="("+u.join(" | ")+")";break;case"not":u=i(n),r+="-("+u.join(" | ")+")"}return""===r?"":(""!==l&&(r=l+":("+r+")"),r+" ")}function r(t){return t=t.replace(/\"/g,"&quot;"),t=t.replace(/\'/g,"&quot;"),t=t.replace(/\</g,"&lt;"),t=t.replace(/\>/g,"&gt;")}if(bds.comm.gj){var a=$(".sc_adv_dropdown_btn"),u=$(".sc_adv_dropdown_group"),c=$(".sc_adv_keyword_ipt"),l=$("#sc_adv"),d=$(".sc_adv_triangle_down"),f=d.find(".c-icon"),p=$(".sc_adv_sub_btn"),h=$("#sc_adv_frm");a.on("click",function(){return $(this).find(".sc_adv_dropdown_group").toggle(),!1}),$(".sc_adv_dropgroup_title").on("click","a",function(t){var e=$(this),n=e.parents(".sc_adv_dropdown_group"),i=n.siblings(".sc_adv_dropdown_text"),o=i.find("a");e.appendTo(i),o.appendTo(n),$(".sc_adv_keyword_ipt").attr("data-name",e.attr("data-name")),t.preventDefault()}),$(".sc_adv_dropgroup_pub").on("click","a",function(t){var e=$(this),n=e.parents(".sc_adv_dropdown_group"),i=n.siblings(".sc_adv_dropdown_text"),o=i.find("a"),s=$(".sc_adv_pubipt");e.appendTo(i),o.appendTo(n),s.attr("data-name",e.attr("data-name"));var r=s.attr("placeholder"),a=e.attr("data-holder");r===s.val()&&s.val(a),s.attr("placeholder",a),t.preventDefault()}),$(".sc_adv_dropgroup_lang").on("click","a",function(t){var e=$(this),n=e.parents(".sc_adv_dropdown_group"),i=n.siblings(".sc_adv_dropdown_text");i.html(e.clone()),e.addClass("sc_adv_lang_hide").siblings(".sc_adv_lang_hide").removeClass("sc_adv_lang_hide"),t.preventDefault()}),d.on("click",function(t){return l.toggle(),u.hide(),f.hasClass("c-icon-triangle-down")?f.removeClass("c-icon-triangle-down").addClass("c-icon-triangle-up"):f.removeClass("c-icon-triangle-up").addClass("c-icon-triangle-down"),window.ns_c_xs({fm:"beha",button_tp:"adv_btn"}),bds.comm.resultSug&&bds.comm.resultSug.hide(),t.stopPropagation(),!1}),p.on("click",function(t){var e,i,o,a=$(".sc_adv_txin"),u="",l="",d="";l=s();for(var f=0,p=a.length;p>f;f++)e=$(a[f]),u=e.val(),d=e.attr("placeholder"),o=e.attr("data-name"),u&&u!==d&&(l+=o+":("+u+") ");return l=$.trim(l),""!==l?(l=bds.util.limitWd(l),l=r(l),$(".sc_adv_wd_hidden").html('<input type="hidden" name="wd" value="'+l+'">'),i=n(),i!==!1&&(""!==i&&$(i).appendTo($("#sc_adv_frm")),h.submit(),window.ns_c_xs({fm:"advse",button_tp:"adv_search"}))):$(c[0]).addClass("error").focus(),t.preventDefault(),!1}),l.on("click",function(t){u.hide(),t.stopPropagation()}),$(document).on("click",function(){l.hide(),f.removeClass("c-icon-triangle-up").addClass("c-icon-triangle-down")}),$("#sc_adv_frm .c-input").on("click",function(){var t=$(this);t.hasClass("sc_adv_input_ylo")||t.hasClass("sc_adv_input_yhi")?$(this).removeClass("error"):$(c[0]).removeClass("error")}),$("#kw").on("click",function(){l.hide(),f.removeClass("c-icon-triangle-up").addClass("c-icon-triangle-down")})}}(),!function(){function t(t){this.sugcontainer=null,this.timer=null,this.visible=!1,this.sugCount=t.sugCount||10,this.ipt=t.ipt||$("#kw")[0],this.form=t.form||$("#form")[0],this.submission=t.submission||null,this.index=-1,this.query=this.ipt&&this.ipt.value||"",this.value=this.query,this.showValue=this.query,this.reqValue="",this.inputValue=this.query,this.sugValue="",this.init()}var e="http://nssug.baidu.com",n="/su?prod=xueshu&json=1&ie=utf-8?wd=";bds.se.sug=function(e){e=e||{};var n=new t(e);return n.outInterface()},t.prototype={constructor:t,init:function(){var t=this;t.initSug(),t.addEvent(),t.clearStat()},render:function(t){function e(t,e){return e&&t&&(t=$.trim(t),e=$.trim(e),t=0==t.indexOf(e)&&t!==e?n(t,e):i(t)),t}function n(t,e){t=i(t),e=i(e);var n=e,o=e.length,s="<b>"+t.substring(o)+"</b>";return n+s}function i(t){return t=t.replace(/&/g,"&amp;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;")}var o="",s=this,r=s.ipt.value;o+="<ul>";for(var a=0;a<s.sugCount;a++)t[a]&&(o+='<li data-query="'+t[a]+'" data-index="'+a+'">',o+=e(t[a],r),o+="</li>");o+="</ul>",$(".sug-container").length||s.initSug(),s.sugcontainer.html(o),s.showSug()},request:function(t){var i=this,o="";i.reqValue=t,""!==t&&(o=bds&&bds.util&&bds.util.domain&&bds.util.domain.get?bds.util.domain.get(e):e,$.ajax({dataType:"jsonp",async:!0,url:o+n+t,jsonp:"cb",timeout:5e3,success:function(t){t.s&&0!==t.s.length&&i.render(t.s)}}))},startCircle:function(){var t=this;t.timer||(t.timer=setTimeout(function(){t.value!=t.ipt.value&&t.showValue!=t.ipt.value&&(t.inputValue=t.showValue=t.value=t.ipt.value,t.request(t.value)),t.timer=setTimeout(arguments.callee,200)},200))},stopCircle:function(){var t=this;t.timer&&(clearTimeout(t.timer),t.timer=null)},hideSug:function(){this.sugcontainer.hide(),this.visible=!1},showSug:function(){var t=this;t.index=-1,t.ipt.value===t.reqValue&&""!==t.ipt.value?t.sugcontainer.find("li").length&&t.sugcontainer.show():t.request(t.ipt.value),t.visible=!0},selectSug:function(t){var e=this,n=e.sugcontainer.find("li");e.blurSug(n);var i=$($(n)[t]),o=i.attr("data-query");-1!=t?(e.focusSug(i,o),e.sugValue=e.showValue=e.value=e.ipt.value=o,e.addStat("rsv_n",1)):(e.showValue=e.value=e.ipt.value=e.inputValue,e.sugValue="",e.removeStat("rsv_n"))},blurSug:function(t){t.removeClass("sug-s")},focusSug:function(t){t.addClass("sug-s")},pressUp:function(){var t=this;if("none"!==t.sugcontainer.css("display")){var e=t.sugcontainer.find("li").length;t.index--,t.index<-1&&(t.index=e-1),t.selectSug(t.index)}},pressDown:function(){var t=this;if("none"!==t.sugcontainer.css("display")){var e=t.sugcontainer.find("li").length;t.index++,t.index>=e&&(t.index=-1),t.selectSug(t.index)}},initSug:function(){this.sugcontainer=$(".sug-container"),this.sugcontainer.length||(this.sugcontainer=$('<div class="sug-container"></div>'),this.sugcontainer.appendTo($(this.form)))},addStat:function(t,e){var n=this,i=$(n.form).find('input[type="hidden"][name="'+t+'"]');i.length?$(i).val(e):$(n.form).append('<input type="hidden" name="'+t+'" value="'+e+'"/>')},removeStat:function(t){var e=this;$(e.form).find('input[type="hidden"][name="'+t+'"]').remove()},clearStat:function(){var t=this;t.removeStat("rsp"),t.removeStat("rsv_n")},formSubmit:function(t){var e=this,n=!0;-1!==e.index&&(e.addStat("f",3),e.addStat("rsp",e.index)),$.isFunction(e.submission)&&(n=e.submission.call(e.form,t)),n&&e.form.submit()},addEvent:function(){var t=this;$(t.ipt).on("focus",function(){t.startCircle()}).on("click",function(e){t.showSug(),e.stopPropagation()}).on("keydown",function(e){e=e||window.event,38==e.keyCode&&(e.preventDefault(),t.pressUp()),40==e.keyCode&&(e.preventDefault(),t.pressDown()),(9==e.keyCode||27==e.keyCode)&&t.hideSug(),8==e.keyCode&&setTimeout(function(){""===t.ipt.value&&t.hideSug()},100),13==e.keyCode&&(t.hideSug(),t.addStat("rsv_sug2",0)),86==e.keyCode&&e.ctrlKey&&t.addStat("rsv_n",2)}),t.sugcontainer.on("mouseenter","li",function(){var e=$(this).attr("data-query");t.blurSug(t.sugcontainer.find("li")),t.focusSug($(this),e),t.index=1*$(this).attr("data-index")}).on("mouseleave","li",function(){$(this).removeClass("sug-s")}).on("click","li",function(){var e=$(this).attr("data-query");t.sugValue=t.showValue=t.value=t.ipt.value=e,t.hideSug(),t.addStat("rsv_sug2",1),t.formSubmit()}),$(window).on("blur",function(){t.hideSug()}),$(document).on("click",function(){t.hideSug(),t.ipt.blur()}),t.form&&$(t.form).submit(function(e){return t.formSubmit(e),!1})},outInterface:function(){var t=this;return{setKey:function(e){t.ipt.value=t.value=t.inputValue=t.showValue=e},visible:function(){return t.visible},show:function(){return t.showSug()},hide:function(){return t.hideSug()},start:function(){return t.startCircle()},stop:function(){return t.stopCircle()},formSubmit:function(){return t.formSubmit()}}}}}(),function(){function t(){bds.comm.gj||($("#head .s_btn").on("mouseover",function(){$(this).css({left:"80px",top:"26px",transition:"left .3s"}),$("#kw").fadeIn(50),$(".fm").css("margin-right","10px")}),$("#u .reg").text()&&$("#u #lb").text()&&($("#head .s_btn").css("left","220px"),$("#setting").css({"margin-right":"0",top:"2px"}),$("#head .s_btn").on("mouseover",function(){$(this).css({left:"43px",top:"26px",transition:"left .3s"}),$("#kw").fadeIn(50),$(".fm").css("margin-right","10px")}),$("#head #kw").css("margin-left","30px")))}function e(){$("#left_menu_content").on({mouseenter:function(){$("#wrapper").addClass("leftNavOn")},mouseleave:function(){$("#wrapper").removeClass("leftNavOn")}}),$("#left_menu_content a.need-login").on("click",function(t){if(!bds.comm.user){var e=$(this);t.preventDefault(),bds.se.login.open(function(){window.location.href=e.attr("href")})}})}function n(){$.ajax({url:s,type:"get",dataType:"json",timeout:2e3,success:function(t){0===t.status&&t.data&&$(".dotPromote").append('<i class="iconfont redDot">&#xe62e;</i>')}})}function i(){function t(){var t=$("#kw"),e=t.val();return e&&(e=bds.util.limitWd(e),bds.comm.resultSug.setKey(e)),!0}bds.comm.gj&&(bds.comm.resultSug=bds.se.sug({submission:t}),bds.comm.ishome&&bds.comm.resultSug.start())}function o(){$("#su_loc").size()&&$("#su_loc").on("mousedown",function(){document.getElementById("kw2").value=document.getElementById("kw").value})}bds.comm.showFooter=function(){$(".pagefoot").show()};var s="/usercenter/data/authorchannel?cmd=claim_new_paper";t(),i(),e(),n(),setFoot(),o()}(),$.getScript("//passport.baidu.com/passApi/js/uni_login_wrapper.js?cdnversion="+(new Date).getTime(),function(){bds.se.passv3=passport.pop.init({apiOpt:{loginType:1,product:"xueshu",subpro:bds.comm.subpro||"",u:window.document.location.href,safeFlag:0,staticPage:window.location.protocol+"//"+window.document.location.href.split("/")[2]+"/cache/scholar/static/user/html/v3Jump.html"},cache:!1,tangram:!0,authsite:["qzone","tsina"],authsiteCfg:{act:"implicit",display:"popup",jumpUrl:window.location.protocol+"//"+window.document.location.href.split("/")[2]+"/cache/scholar/static/user/html/xd.html",onBindSuccess:function(t,e){var n=decodeURIComponent(e.passport_uname||e.displayname);return bds.se.login.success(n),!1}},onLoginSuccess:function(t){t.returnValue=!1;var e=t.rsp.data.userName||t.rsp.data.mail||t.rsp.data.phoneNumber;bds.se.login.success(e)},onSubmitStart:function(){},onSubmitedErr:function(){},onSystemErr:function(){},onShow:function(){},onHide:function(){bds.se.login.setSubpro(bds.comm.subpro)},onDestroy:function(){}}),bds.se.passv3RealName=passport.pop.init({type:"accRealName",apiOpt:{product:"xueshu",staticPage:window.location.protocol+"//"+window.document.location.href.split("/")[2]+"/cache/scholar/static/user/html/v3Jump.html"},tangram:!0,onSubmitStart:function(){},onShow:function(){},onHide:function(){},onSubmitSuccess:function(){bds.se.login.verifySuccess()},onverifyHide:function(){bds.se.login.verifySuccess()},onNotloginAction:function(){},onVerifyalreadyAction:function(){bds.se.login.verifySuccess()}})}),bds.se.loginCallbackFunc=null,bds.se.login={realNameCallback:null,init:function(){this.setUserInfo();var t=this;bds.comm.loginAction.push(function(e,n){t.setUserInfo(n)})},setUserInfo:function(t){var e=t||bds.comm.user;if(!e)return void $("#u .reg").attr("href","https://passport.baidu.com/v2/?reg&regType=1&tpl=xueshu&u="+encodeURIComponent(document.location.href));var n=$("#user");n.find(".logout").attr("href","http://passport.baidu.com/?logout&tpl=xueshu&u="+encodeURIComponent(document.location.href))},open:function(t){bds.se.loginCallbackFunc=t||function(){window.document.location.reload(!0)},bds.se.passv3.show()},success:function(t){if(bds.comm){bds.comm.user=t,bds.comm.username=t,window.bdUser=t,bds.se.passv3.hide(),bds.se.loginCallbackFunc.call(window,1,t);for(var e=0;e<bds.comm.loginAction.length;e++)bds.comm.loginAction[e].call(window,1,t)}},setSubpro:function(t){bds.se.passv3.setSubpro(t)},realName:function(t){bds.se.passv3RealName.show(),this.realNameCallback=t},verifySuccess:function(){this.realNameCallback(),bds.se.passv3RealName.hide()}},bds.se.login.init(),!function(){function t(t,e){if(null==t.getAttribute("data-nolog")){var n,i,o={},s=t;do{if(null!=s.getAttribute("data-nolog"))return;if(n=s.getAttribute("data-log"))try{n=new Function("return "+n)();for(i in n)"undefined"==typeof o[i]&&n.hasOwnProperty(i)&&(o[i]=n[i])}catch(r){}s=s.parentNode}while(s&&s!==e.parentNode);o.type&&o.actblock&&(o.type=o.actblock+"-"+o.type,window.c(o))}}var e="LOG_WR";$("body").on("mousedown",function(n){var n=window.event||n,i=n.srcElement||n.target,o=$(i);try{for(var s,r=o;r.length&&!r.hasClass(e);)r=r.parent();if(!r.length)return;s=r.get(0),t(i,s)}catch(n){}})}(),bds.util.dialogTips=function(t,e,n){var i="",o="",s=$(".subsDialog");if(200===t?(i=e||"操作成功",o="c-icon-ok"):(i=e||"操作失败",o="c-icon-fail"),s.length)s.find(".texttip").text(i),s.find(".c-icon").removeClass("c-icon-ok c-icon-fail").addClass(o);else{var r=['<div class="subsDialog">','<i class="c-icon '+o+'"></i>','<span class="texttip">'+i+"</span>","</div>"].join("");$(r).appendTo("body"),s=$(".subsDialog"),s.css({height:"42px",padding:"0 20px",color:"#06c","font-size":"14px","line-height":"42px","text-align":"center",border:"1px solid #ccc","background-color":"#fff",position:"absolute",display:"none","z-index":"1001"}),n&&n.css&&s.css(n.css),s.find(".texttip").css({"padding-left":"6px",_zoom:1}),s.find(".c-icon").css({_display:"none"})}var a=($(window).height()-s.outerHeight())/2,u=($(window).width()-s.outerWidth())/2,c=$(window).scrollTop()+Math.max(a,10);s.css({top:c,left:u}).fadeIn(),n&&n.time?setTimeout(function(){s.fadeOut()},n.time):setTimeout(function(){s.fadeOut()},1e3)},bds.util.showDialog=bds.util.dialogTips,!function(){function t(t){function e(t,e,n){return n&&(t=t>n?n:t),t>=e?t:e}function n(t){t?N.call(window,{value:K,scale:q}):O.call(window,{value:K,scale:q})}function i(){p&&clearInterval(p),s(),p=setInterval(function(){Z?s():clearInterval(p)},100)}function o(){h&&clearInterval(h),r(),h=setInterval(function(){te?r():clearInterval(h)},100)}function s(){var t=K-k;t=0>t?0:t,l(t)}function r(){var t=K+k;t=t>1?1:t,l(t)}function a(t){t=window.event||t;var n=e(t.clientY-Q,L,W);return K=(n-L)/(W-L),$(P).css({top:n+"px"}),!1}function u(){return $(g).removeClass("opui-scroll-ctrl-scroll-hover"),$(g).removeClass("opui-scroll-ctrl-scroll-touch"),$(P).removeClass("opui-scroll-slider-hover"),$(P).removeClass("opui-scroll-slider-touch"),$(b).css({"-moz-user-select":""}),$(b).css({"-webkit-user-select":""}),J&&window.clearInterval(J),document.onselectstart=Y?Y:function(){return!0},$(document).unbind("mousemove",a),$(document).unbind("mouseup",u),$(P).addClass("opui-scroll-slider OP_LOG_BTN"),G=0,!1}function c(t){l((t.offsetY||t.layerY)/B)}function l(t,e,i){t=0>t?0:t,t=t>1?1:t,K=t;var o=(W-L)*K+L;$(P).css({top:o+"px"}),e||n(i)}function d(t){if(t.preventDefault(),t=t.originalEvent){this.onwheel=1;var e=(-t.wheelDelta||t.detail&&40*t.detail||0)/C,n=e,i=n>0?v.scrollTop+2:v.scrollTop-2;$(b).css({zoom:"1"});var o=b.offsetHeight-v.offsetHeight;i>0&&o>i?(v.scrollTop+=n,v.scrollTop>o&&(v.scrollTop=o),K=v.scrollTop/(v.scrollHeight-v.offsetHeight)):S&&"none"!=$(g).css("display")||(document.documentElement.scrollTop+=n,document.body.scrollTop+=n)}}function f(t){if(q=t>10?10:t,1>=q)return void $(P).css({display:"none"});$(P).css({display:"block"});var e=B-2*z;M=parseInt(e/q),M=15>M?15:M,W=B-z-M,$(P).css({height:M+"px"})}this.options=t;var p,h,m,g=t.scrollbar||$("<div>").get(0),v=t.content,b=$(t.content).children().get(0),w=t.initPos||0,_=t.initDom||null,y=t.mousewheel||!0,S=t.mousewheellock||!1,C=t.wheeldelta||1,x=t.ctrlblock||0,k=t.step||.1,T=t.length,q=t.scale||0,j=(t.theme||"",t.refresh||!1),I=0,D=0,V=0,O=function(t){var e=parseInt(I-D);if(e>0){var t=t.value;v.scrollTop=e*t}},N=function(t){var e=parseInt(I-D);if(e>0){var t=t.value;v.scrollTop=parseInt(I*t)>e?e:I*t}},A=$("<div>",{"class":"opui-scroll-up"}).get(0),H=$("<div>",{"class":"opui-scroll-down"}).get(0),R=$("<div>",{"class":"opui-scroll-axis"}).get(0),P=$("<div>",{"class":"opui-scroll-slider OP_LOG_BTN"}).get(0),U=$("<div>",{"class":"opui-scroll-s-top"}).get(0),F=$("<div>",{"class":"opui-scroll-s-bottom"}).get(0),E=$("<div>",{"class":"opui-scroll-s-block"}).get(0),B=0,z=x||0,M=0,L=z,W=0,K=0,Q=0,G=0,Y=null,J=null,X=function(){Z=!1,te=!1};if(t.scrollbar||$(v).after($(g)),$(v).addClass("opui-scroll-ctrl-content"),$(g).addClass("opui-scroll-ctrl-scroll"),$(g).attr("data-click",'{fm:"beha"}'),this.render=function(t){j||clearInterval(m);try{D=v.offsetHeight,V=g.offsetHeight,I=b.offsetHeight}catch(n){}if(B=t||T||D-2,$(g).css({height:B+"px"}),$(R).css({height:B+"px"}),B>=0&&I>=0){B+2>=I?$(g).hide():$(g).show(),q!=I/B&&(q=I/B,f(q),l(0));var i=0;if(_){i=_.offsetTop+_.scrollHeight>=I?1:_.offsetTop+_.scrollHeight<=D?0:_.offsetTop/I,l(i);var o=e(V*i,L);o>B-M&&(o=B-M)}if(w){l(w,!1,!0);var o=e(V*w,L);o>B-M&&(o=B-M)}}},m=setInterval(this.render,50),$(g).empty(),x&&A.offsetHeight==H.offsetHeight){var Z=!1,te=!1;g.appendChild(A),g.appendChild(H),$(A).on("mousedown",function(){i(),Z=!0}),$(H).on("mousedown",function(){o(),te=!0}),$(A).on("mouseup",function(){$(g).removeClass("opui-scroll-ctrl-scroll-touch"),Z=!1}),$(H).on("mouseup",function(){$(g).removeClass("opui-scroll-ctrl-scroll-touch"),te=!1}),$(document).on("mouseup",X)}g.appendChild(R),g.appendChild(P),P.appendChild(U),P.appendChild(F),P.appendChild(E),P.onDragstart=function(){return!1},$(P).on("mouseover",function(){$(P).addClass("opui-scroll-slider-hover"),$(g).addClass("opui-scroll-ctrl-scroll-hover")}),$(P).on("mousedown",function(){$(P).addClass("opui-scroll-slider-touch"),$(g).addClass("opui-scroll-ctrl-scroll-touch")}),$(P).on("mouseout",function(){$(P).removeClass("opui-scroll-slider-hover")}),$(P).on("mouseup",function(){$(P).removeClass("opui-scroll-slider-touch")}),$(g).on("mouseover",function(){$(g).addClass("opui-scroll-ctrl-scroll-hover")}),$(g).on("mousedown",function(){$(g).addClass("opui-scroll-ctrl-scroll-touch")}),$(g).on("mouseout",function(){$(g).removeClass("opui-scroll-ctrl-scroll-hover")}),$(g).on("mouseup",function(){$(g).removeClass("opui-scroll-ctrl-scroll-touch")}),$(R).on("click",c),y&&!this.onwheel&&($(v).hasClass("opui-scroll-onwheel")||($(v).on("DOMMouseScroll",d),$(v).on("mousewheel",d),$(v).addClass("opui-scroll-onwheel"))),v&&$(v).on("scroll",function(){G||l(v.scrollTop/(v.scrollHeight-v.offsetHeight),1)}),$(P).on("mousedown",function(t){return Y=document.onselectstart,document.onselectstart=function(){return!1},J=window.setInterval(n,40),$(b).css({"-moz-user-select":"none"}),$(b).css({"-webkit-user-select":"none"}),Q=t.clientY-P.offsetTop,$(document).on("mousemove",a),$(document).on("mouseup",u),G=1,t.preventDefault(),!1}),q>1&&f(q),this.dispose=function(){document.onselectstart=Y?Y:function(){return!0},$(document).unbind("mousemove",a),$(document).unbind("mouseup",u),$(document).unbind("mouseup",X),J&&clearInterval(J),p&&clearInterval(p),h&&clearInterval(h),m&&clearInterval(m)},this.setContentPos=function(t){try{v.scrollTop=t}catch(e){}}}A=window.A||{},A.ui=A.ui||{},A.ui.scrollbarv=function(e){return new t(e)}}(),!function(t){function e(){if(bds&&bds.qa&&bds.qa.ShortCut&&bds.qa.ShortCut.initRightBar){var t={product_id:65};bds.qa.ShortCut.initRightBar(t);var e={product_id:"65",username:bds.comm.username,query:bds.comm.ishome?"":bds.comm.query};bds.qa.ShortCut._getProData(e)}}function n(){bds&&bds.qa&&bds.qa.ShortCut&&bds.qa.ShortCut.initRightBar?e():t.ajax({url:bds&&bds.util&&bds.util.domain&&bds.util.domain.get("http://f3.baidu.com/feedback/js/feedback/feedback0.0.2.js"),dataType:"script",success:function(){e()},error:function(){}})}t(".feedback").on("click",function(){return n(),!1})}(jQuery),bds=window.bds||{},bds.util=bds.util||{},bds.util.limitWd=function(t){var e=t.split(""),n=e.length,i=0,o=255;if(127>=n)return t;for(var s=0;n>s;s++){if(i+=e[s].charCodeAt(0)>255?2:1,i===o)return e=t.substring(0,s+1);if(i>o)return e=t.substring(0,s)}return t},!function(){function t(t){this.sugcontainer=null,this.timer=null,this.visible=!1,this.sugCount=t.sugCount||10,this.ipt=t.ipt||$("#joursearch #kw")[0],this.form=t.form||$("#joursearch")[0],this.submission=t.submission||null,this.index=-1,this.query=this.ipt&&this.ipt.value||"",this.value=this.query,this.showValue=this.query,this.reqValue="",this.inputValue=this.query,this.sugValue="",this.init()}bds.se.sug=function(e){var e=e||{},n=new t(e);return n.outInterface()},t.prototype={init:function(){var t=this;t.initSug(),t.addEvent(),t.clearStat()},render:function(t){function e(t,e){return e&&t&&(t=$.trim(t),e=$.trim(e),t=0==t.indexOf(e)&&t!==e?n(t,e):i(t)),t}function n(t,e){t=i(t),e=i(e);var n=e,o=e.length,s="<b>"+t.substring(o)+"</b>";return n+s}function i(t){return t=t.replace(/&/g,"&amp;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;")}var o="",s=this,r=s.ipt.value;o+="<ul>";for(var a=0;a<s.sugCount;a++)t[a]&&(o+='<li data-query="'+t[a]+'" data-index="'+a+'">',o+=e(t[a],r),o+="</li>");o+="</ul>",$(".sug-container-navigation").length||s.initSug(),s.sugcontainer.html(o),s.showSug()},request:function(t){var e=this;e.reqValue=t,""!==t&&$.ajax({dataType:"json",async:!0,url:"/usercenter/data/journal?cmd=journal_search_sug&&query="+t,timeout:5e3,success:function(t){t.data&&0!==t.data.length&&e.render(t.data)}})},startCircle:function(){var t=this;t.timer||(t.timer=setTimeout(function(){t.value!=t.ipt.value&&t.showValue!=t.ipt.value&&(t.inputValue=t.showValue=t.value=t.ipt.value,t.request(t.value)),t.timer=setTimeout(arguments.callee,200)},200))},stopCircle:function(){var t=this;t.timer&&(clearTimeout(t.timer),t.timer=null)},hideSug:function(){this.sugcontainer.hide(),this.visible=!1},showSug:function(){var t=this;t.index=-1,t.ipt.value===t.reqValue&&""!==t.ipt.value?t.sugcontainer.find("li").length&&t.sugcontainer.show():t.request(t.ipt.value),t.visible=!0},selectSug:function(t){var e=this,n=e.sugcontainer.find("li");e.blurSug(n);var i=$($(n)[t]),o=i.attr("data-query");-1!=t?(e.focusSug(i,o),e.sugValue=e.showValue=e.value=e.ipt.value=o,e.addStat("rsv_n",1)):(e.showValue=e.value=e.ipt.value=e.inputValue,e.sugValue="",e.removeStat("rsv_n"))},blurSug:function(t){t.removeClass("sug-s")},focusSug:function(t){t.addClass("sug-s")},pressUp:function(){var t=this;if("none"!==t.sugcontainer.css("display")){var e=t.sugcontainer.find("li").length;t.index--,t.index<-1&&(t.index=e-1),t.selectSug(t.index)}},pressDown:function(){var t=this;if("none"!==t.sugcontainer.css("display")){var e=t.sugcontainer.find("li").length;t.index++,t.index>=e&&(t.index=-1),t.selectSug(t.index)}},initSug:function(){this.sugcontainer=$(".sug-container-navigation"),this.sugcontainer.length||(this.sugcontainer=$('<div class="sug-container-navigation"></div>'),this.sugcontainer.appendTo($(this.form)))
},addStat:function(t,e){var n=this,i=$(n.form).find('input[type="hidden"][name="'+t+'"]');i.length?$(i).val(e):$(n.form).append('<input type="hidden" name="'+t+'" value="'+e+'"/>')},removeStat:function(t){var e=this;$(e.form).find('input[type="hidden"][name="'+t+'"]').remove()},clearStat:function(){var t=this;t.removeStat("rsp"),t.removeStat("rsv_n")},formSubmit:function(t){var e=this,n=!0;-1!==e.index&&(e.addStat("f",3),e.addStat("rsp",e.index)),$.isFunction(e.submission)&&(n=e.submission.call(e.form,t)),n&&e.form.submit()},addEvent:function(){var t=this;$(t.ipt).on("focus",function(){t.startCircle()}).on("click",function(e){t.showSug(),e.stopPropagation()}).on("keydown",function(e){e=e||window.event,38==e.keyCode&&(e.preventDefault(),t.pressUp()),40==e.keyCode&&(e.preventDefault(),t.pressDown()),(9==e.keyCode||27==e.keyCode)&&t.hideSug(),8==e.keyCode&&setTimeout(function(){""===t.ipt.value&&t.hideSug()},100),13==e.keyCode&&(t.hideSug(),t.addStat("rsv_sug2",0)),86==e.keyCode&&e.ctrlKey&&t.addStat("rsv_n",2)}),t.sugcontainer.on("mouseenter","li",function(){var e=$(this).attr("data-query");t.blurSug(t.sugcontainer.find("li")),t.focusSug($(this),e),t.index=1*$(this).attr("data-index")}).on("mouseleave","li",function(){$(this).removeClass("sug-s")}).on("click","li",function(){var e=$(this).attr("data-query");t.sugValue=t.showValue=t.value=t.ipt.value=e,t.hideSug(),t.addStat("rsv_sug2",1),t.formSubmit()}),$(window).on("blur",function(){t.hideSug()}),$(document).on("click",function(){t.hideSug(),t.ipt.blur()}),t.form&&$(t.form).submit(function(e){return t.formSubmit(e),!1})},outInterface:function(){var t=this;return{setKey:function(e){t.ipt.value=t.value=t.inputValue=t.showValue=e},visible:function(){return t.visible},show:function(){return t.showSug()},hide:function(){return t.hideSug()},start:function(){return t.startCircle()},stop:function(){return t.stopCircle()},formSubmit:function(){return t.formSubmit()}}}}}(),hide_loginInfo(),$("#tnav_l").on("mouseover",function(){$(this).hasClass("leftNav_s")&&$(this).removeClass("hide_leftNav")}),$("#tnav_l").on("mouseout",function(){$(this).hasClass("leftNav_s")&&$(this).addClass("hide_leftNav")}),$(window).on("resize",function(){hide_loginInfo()});var toolTimer,menuTimer;!function(){$("#wrapper").height()<$(window).height()&&$("#foot").addClass("foot-no")}(),$("#toolbar .sort_select_default").on({mouseenter:function(){clearTimeout(toolTimer),toolTimer=setTimeout(function(){$("#toolbar .sort_list").css({display:"block"})},300)},mouseleave:function(){clearTimeout(toolTimer)}}),$("#toolbar .sort_list").on("mouseleave",function(t){clearTimeout(toolTimer),$("#toolbar .sort_list").css({display:"none"}),t.stopPropagation(),t.preventDefault()}),$(".qute").on({mouseenter:function(){clearTimeout(menuTimer);var t=$(this);menuTimer=setTimeout(function(){console.log(),t.find(".export_listbox").css({display:"block"})},300)}}),$(".qute").on("mouseleave",function(){clearTimeout(menuTimer),$(this).find(".export_listbox").css({display:"none"})}),bds.comm.resultSug=bds.se.sug({submission:form_submit}),bds.comm.resultSug.start(),$("#joursearch").submit(function(){_hmt.push(["_trackEvent","journalsearch","search"]),ns_c_xs&&ns_c_xs({fm:"as",button_tp:"search"})}),ns_c_xs&&ns_c_xs({fm:"se"}),function(){$(".LOG_WR").on("click",function(){ns_c_xs&&ns_c_xs({fm:"as",button_tp:$(this).attr("data-click")})})}();